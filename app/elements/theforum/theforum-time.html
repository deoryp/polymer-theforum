<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="theforum-time">
  <template>
    <style>
      .date-stamp { 
        float:right;
        position:relative;
        padding: 1.5em .1em 1em;
        margin-left:1em;
        font-size: 0.8em;
        font-family: "Lucida Console", Monaco, monospace;
      } 
      .date-stamp .month {
        text-transform: uppercase;
        font-size:1.4em;
        color: black;
      }
      .date-stamp .day {
        font-size:1.7em;
        line-height:1em;
        position:absolute; 
        left:0em; 
        top:0em;
        color: black;
      }
      .date-stamp .year { 
        display:block; 
        position:absolute; 
        right:-0.3em;
        top:0.2em;
        transform: rotate(-90deg);
        color: black;
      }
      .date-stamp .time {
        font-size: 0.3em;
        line-height: 1.2em;
        position: absolute;
        left: 0px;
        top: 4.6em;
        color: black;
      }
    </style>
    
    
    <div class="date-stamp">
      <span class="day">{{ day(at) }}</span> 
      <span class="month">{{ month(at) }}</span> 
      <span class="year">{{ year(at) }}</span>
      <span class="time">{{ time(at) }}</span>
    </div>

  </template>
  <script>
    var months = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
    var pad = function(n) {
      if (n < 10) {
        return '0' + n;
      }
      return n;
    }
    Polymer({
      is: 'theforum-time',
      properties: {
        at: Date
      },
      day: function(date) {
        return pad(date.getDate());
      },
      month: function(date) {
        return months[date.getMonth()].toUpperCase();
      },
      year: function(date) {
        return String(date.getFullYear()).substr(2);
      },
      time: function(date) {
        return pad(date.getHours() % 12) + ':' + pad(date.getMinutes()) + ((date.getHours() > 12) ? 'AM':'PM');
      }
      
    });
  </script>
</dom-module>