<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="theforum-post-entry">
  <template>
    <a on-click="toggle">
      <theforum-post-author
        photo="{{post.author.photo}}"
        name="{{post.author.name}}"
        at="{{post.created}}"
        fresh$="{{post.fresh}}"
        >
      </theforum-post-author>
    </a>
    <theforum-post-message 
      id="collapse-post" 
      markdown="{{post.markdown}}" 
      fresh$="{{post.fresh}}"
      >
    </theforum-post-message>
  </template>
  <script>
  Polymer({
      is: 'theforum-post-entry',
      properties: {
        post: {
          type: Object,
          observer: '_postChanged'
        }
      },
      _postChanged: function(newValue, oldValue) {
        console.log(newValue)
        // check it.
      },
      toggle: function() {
        this.$['collapse-post'].toggle();
      }
    });
  </script>
</dom-module>